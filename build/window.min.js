const title=document.getElementById("title");function loadingAnimation(){let e="~"+title.textContent+"~";title.textContent=e}let loadingInterval=setInterval(loadingAnimation,1e3/12);const isMobile=Cool.mobilecheck();isMobile&&document.body.classList.add("mobile");const gme=new Game({dps:30,lineWidth:1,width:640,height:600,multiColor:!0,checkRetina:!0,suspend:!0,events:isMobile?["touch"]:["keyboard","mouse"],scenes:["start","game"],bounds:{left:-1024,top:1024,right:1024,bottom:1024}});let clickOne,leftLabel,rightLabel,textY;gme.load({ui:"./data/ui.json",items:"./data/items.json"},!1);let wrap=10,alphaString="abcdefghijklmnopqrstuvwxyz",data={window:{next:["tree","bird"],label:["window","setting","in the beginning","the trouble","back to the beginning"]},door:{next:["cat","dog"],label:["door","exposition","it was a dark room","they heard a sound","their popularity had passed","the entrance closed behind them"]},bird:{next:["flower","rabbit"],label:["bird","inciting incident","a bantam chicken","the humble proletarian","the fowl"]},cat:{next:["jar","plunger"],label:["cat","protagonist","they were lost","they smelled","they were in hell","they came with tooth, bone and pearl"]},dog:{next:["hole","mailbox"],label:["dog","character","they must fetch","fetch a fellow","an associate","they found the fellow"]},tree:{next:["serpent","fruit"],label:["tree","climax","the hunt began","they are the player","they found the seed"]},jar:{next:["piss_christ","quorum"],label:["jar","resolution","they were a thinker","they find a jar of memories","they were lying"]},employer:{next:["nail","tofu"],label:["employer","gauntlet","a true leader","a piece of shit","make more money","die alone"]},flower:{next:["garbage","valley"],label:["flower","time cave","periodic","they fall in love","they smell in love","they grow together","they wilt away"]},fruit:{next:["pig","premise"],label:["fruit","branch","they did not understand the consequence","the taste was unforgettable"]},garbage:{next:["napkin","employer"],label:["garbage","bottleneck","they lived in a wasteland","they survived on scraps","it all turned out okay"]},hole:{next:["iced_coffee","oyster"],label:["hole","quest","they thought it could be fixed","they appealed to their persecutor","they were in a hole"]},iced_coffee:{next:["vacuum","moon"],label:["iced coffee","conflict","they could not find an iced coffee anywhere","a savior came","their blood flowed from their veins"]},kill:{next:["leaf","shirt"],label:["kill","turning point","they did a crime","they pursed the criminal","vengeance"]},leaf:{next:["worm","rubric"],label:["leaf","floating","the garment was a clue","it had to be their family","but it could not be their family"]},mailbox:{next:["nacho","quicksand"],label:["mailbox","loop and grow","the letter arrived in the mailbox","they saw through the foliage","the letter foretold a disaster"]},moon:{next:["kill","window"],label:["moon","flashback","mindless cruelty","why","why did they do it"]},nacho:{next:["door","underpants"],label:["nacho","fishbone","there was a tyrant","and a conspiracy","but the plot failed"]},nail:{next:["jar","bird"],label:["nail","parallel","they were tagged in the code","the enemy was at the grocery store","the object was their to take"]},napkin:{next:["cat","door"],label:["napkin","frame","an abduction","they could not be found"]},oyster:{next:["dog","employer"],label:["oyster","progress","an explosion"]},pig:{next:["flower","fruit"],label:["pig","emergence"]},piss_christ:{next:["garbage","hole"],label:["piss_christ","object oriented"]},plunger:{next:["iced_coffee","kill"],label:["plunger","choice"]},premise:{next:["leaf","mailbox"],label:["premise","doom"]},quicksand:{next:["moon","nacho"],label:["quicksand","intent"]},quorum:{next:["nail","plunger"],label:["quorum","intervention"]},rabbit:{next:["premise","quorum"],label:["rabbit","autonomy"]},rubric:{next:["napkin","oyster"],label:["rubric","agent"]},serpent:{next:["pig","quicksand"],label:["serpent","theme"]},shirt:{next:["rabbit","tree"],label:["shirt","model"]},tofu:{next:["valley","underpants"],label:["tofu","resolution"]},underpants:{next:["vacuum","window"],label:["underpants","recognition"]},vacuum:{next:["serpent","shirt"],label:["vacuum","reversal"]},valley:{next:["rubric","window"],label:["valley","obstacles"]},worm:{next:["tofu","door"],label:["worm","turning point"]}};function newScene(e,t){let n=Cool.choice(...arguments),a=n==e?t:e,i=`${n}-${a}`;gme.scenes.current=i;let[l,o]=[n,a].map((e=>data[e].index<data[e].label.length-1?data[e].label[data[e].index]:"the end"));if(leftLabel.setMsg(l),rightLabel.setMsg(o),leftLabel.x=Math.round(.25*gme.view.width),rightLabel.x=Math.round(.75*gme.view.width),leftLabel.y=textY,rightLabel.y=textY,leftLabel.center(),rightLabel.center(),!gme.scenes[i]){gme.scenes[i]=new Scene;let e=new UI({x:.25,y:.5,animation:gme.anims.items[n]}),t=new UI({x:.75,y:.5,animation:gme.anims.items[a]});e.item=n,t.item=a,gme.scenes.current.addUI(e),gme.scenes.current.addUI(t),[e,t].forEach((e=>{e.onOver=function(){e.animation.overrideProperty("wiggleRange",2),e.animation.overrideProperty("wiggleSpeed",1);let t=[.2,.02],n=[6,4];e.animation.onUpdate=function(){e.animation.override.wiggleRange<n[0]&&(e.animation.override.wiggleRange+=t[0]),e.animation.override.wiggleSpeed<n[1]&&(e.animation.override.wiggleSpeed+=t[1])}},e.onOut=function(){e.animation.cancelOverride()},e.onClick=function(){clickOne.clickedOnce||(clickOne.clickedOnce=!0),e.animation.cancelOverride(),data[e.item]&&(newScene(...data[e.item].next),data[e.item].index++)}}))}}gme.start=function(){document.getElementById("splash").remove(),gme.scenes.current="game",clickOne=new Sprite(gme.view.halfWidth,gme.anims.ui.click_one.halfHeight,gme.anims.ui.click_one),clickOne.center=!0,clickOne.clickedOnce=!1,gme.scenes.start.addToDisplay(clickOne),textY=.8*gme.view.height;let e=gme.anims.ui.alphabet;leftLabel=new Text(gme.view.halfWidth/2,textY,"",wrap,e,alphaString),rightLabel=new Text(.75*gme.view.width,textY,"",wrap,e,alphaString),leftLabel.center(),rightLabel.center();for(const e in data)data[e].index=0;test=new Text(gme.view.halfWidth,gme.view.halfHeight,"they find a jar of memories",wrap,e,alphaString),newScene("window","door")},gme.draw=function(){clickOne.clickedOnce||clickOne.display(),gme.scenes.current.display(),leftLabel.display(!1,!1,0,0,!0),rightLabel.display(!1,!1,0,0,!0)},gme.mouseMoved=function(e,t){gme.scenes.current.mouseMoved(e,t)},gme.mouseDown=function(e,t){gme.scenes.current.mouseDown(e,t)},gme.mouseUp=function(e,t){gme.scenes.current.mouseUp(e,t)};const darkStyleCheckbox=document.getElementById("dark-style"),styleLabel=document.getElementById("style-label");darkStyleCheckbox.onchange=function(){darkStyleCheckbox.checked?document.body.classList.add("dark"):document.body.classList.remove("dark");let[e,t]=darkStyleCheckbox.checked?["#000000","#ffffff"]:["#ffffff","#000000"];for(const n in gme.anims.items){gme.anims.items[n].layers.forEach((n=>{n.color===e&&(n.color=t)}))}for(const n in gme.anims.ui){gme.anims.ui[n].layers.forEach((n=>{n.color===e&&(n.color=t)}))}};
//# sourceMappingURL=src_maps/window.min.js.map
