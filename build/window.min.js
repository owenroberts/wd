const title=document.getElementById("title");function loadingAnimation(){let e="~"+title.textContent+"~";title.textContent=e}let loadingInterval=setInterval(loadingAnimation,1e3/12);const isMobile=Cool.mobilecheck();isMobile&&document.body.classList.add("mobile");const gme=new Game({dps:30,lineWidth:1,width:640,height:600,multiColor:!0,checkRetina:!0,suspend:!0,events:isMobile?["touch"]:["keyboard","mouse"],scenes:["start","game"],bounds:{left:-1024,top:1024,right:1024,bottom:1024}});let clickOne,leftLabel,rightLabel;gme.load({ui:"./data/ui.json",items:"./data/items.json"},!1);let data={window:{next:["tree","bird"],label:["window","setting"]},door:{next:["cat","dog"],label:["door","exposition"]},bird:{next:["flower","rabbit"],label:["bird","inciting incident"]},cat:{next:["jar","plunger"],label:["cat","protagonist"]},dog:{next:["hole","mailbox"],label:["dog","character"]},tree:{next:["serpent","fruit"],label:["tree","climax"]},jar:{next:["piss_christ","quorum"],label:["jar","resolution"]},employer:{next:["nail","tofu"],label:["employer","gauntlet"]},flower:{next:["garbage","valley"],label:["flower","time cave"]},fruit:{next:["pig","premise"],label:["fruit","branch"]},garbage:{next:["napkin","employer"],label:["garbage","bottleneck"]},hole:{next:["iced_coffee","oyster"],label:["hole","quest"]},iced_coffee:{next:["vacuum","moon"],label:["iced_coffee","conflict"]},kill:{next:["leaf","shirt"],label:["kill","sorting hat"]},leaf:{next:["worm","rubric"],label:["leaf","floating"]},mailbox:{next:["nacho","quicksand"],label:["mailbox","loop and grow"]},moon:{next:["kill","window"],label:["moon","flashback"]},nacho:{next:["door","underpants"],label:["nacho","fishbone"]},nail:{next:["jar","bird"],label:["nail","parallel"]},napkin:{next:["cat","door"],label:["napkin","frame"]},oyster:{next:["dog","employer"],label:["oyster","progress"]},pig:{next:["flower","fruit"],label:["pig","emergence"]},piss_christ:{next:["garbage","hole"],label:["piss_christ","object oriented"]},plunger:{next:["iced_coffee","kill"],label:["plunger","choice"]},premise:{next:["leaf","mailbox"],label:["premise","doom"]},quicksand:{next:["moon","nacho"],label:["quicksand","intent"]},quorum:{next:["nail","plunger"],label:["quorum","intervention"]},rabbit:{next:["premise","quorum"],label:["rabbit","autonomy"]},rubric:{next:["napkin","oyster"],label:["rubric","agent"]},serpent:{next:["pig","quicksand"],label:["serpent","theme"]},shirt:{next:["rabbit","tree"],label:["shirt","model"]},tofu:{next:["valley","underpants"],label:["tofu","resolution"]},underpants:{next:["vacuum","window"],label:["underpants","recognition"]},vacuum:{next:["serpent","shirt"],label:["vacuum","reversal"]},valley:{next:["rubric","window"],label:["valley","obstacles"]},worm:{next:["tofu","door"],label:["worm","turning point"]}};function newScene(e,n){let t=Cool.choice(...arguments),i=t==e?n:e,a=`${t}-${i}`;gme.scenes.current=a;let[l,o]=[t,i].map((e=>void 0===data[e].index?(data[e].index=0,data[e].label[data[e].index]):data[e].index<data[e].label.length-1?(data[e].index++,data[e].label[data[e].index]):"the end"));if(leftLabel.setMsg(l),rightLabel.setMsg(o),leftLabel.x=Math.round(.25*gme.view.width),rightLabel.x=Math.round(.75*gme.view.width),leftLabel.center(),rightLabel.center(),!gme.scenes[a]){gme.scenes[a]=new Scene;let e=new UI({x:.25,y:.5,animation:gme.anims.items[t]}),n=new UI({x:.75,y:.5,animation:gme.anims.items[i]});e.item=t,n.item=i,gme.scenes.current.addUI(e),gme.scenes.current.addUI(n),[e,n].forEach((e=>{e.onOver=function(){e.animation.overrideProperty("wiggleRange",2),e.animation.overrideProperty("wiggleSpeed",1);let n=[.2,.02],t=[6,4];e.animation.onUpdate=function(){e.animation.override.wiggleRange<t[0]&&(e.animation.override.wiggleRange+=n[0]),e.animation.override.wiggleSpeed<t[1]&&(e.animation.override.wiggleSpeed+=n[1])}},e.onOut=function(){e.animation.cancelOverride()},e.onClick=function(){clickOne.clickedOnce||(clickOne.clickedOnce=!0),e.animation.cancelOverride(),data[e.item]&&newScene(...data[e.item].next)}}))}}gme.start=function(){document.getElementById("splash").remove(),gme.scenes.current="game",clickOne=new Sprite(gme.view.halfWidth,gme.anims.ui.click_one.halfHeight,gme.anims.ui.click_one),clickOne.center=!0,clickOne.clickedOnce=!1,gme.scenes.start.addToDisplay(clickOne);let e=.8*gme.view.height,n=gme.anims.ui.alphabet,t="abcdefghijklmnopqrstuvwxyz";leftLabel=new Text(gme.view.halfWidth/2,e,"window",8,n,t),rightLabel=new Text(.75*gme.view.width,e,"door",8,n,t),leftLabel.center(),rightLabel.center();new Text(gme.view.halfWidth,gme.view.halfHeight,"inciting incident",8,n,t);newScene("window","door")},gme.draw=function(){clickOne.clickedOnce||clickOne.display(),gme.scenes.current.display(),leftLabel.display(!1,!1,0,0,!0),rightLabel.display(!1,!1,0,0,!0)},gme.mouseMoved=function(e,n){gme.scenes.current.mouseMoved(e,n)},gme.mouseDown=function(e,n){gme.scenes.current.mouseDown(e,n)},gme.mouseUp=function(e,n){gme.scenes.current.mouseUp(e,n)};
//# sourceMappingURL=src_maps/window.min.js.map
